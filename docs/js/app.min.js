/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./src/js/modules/animate.js":
/*!***********************************!*\
  !*** ./src/js/modules/animate.js ***!
  \***********************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/**
 * Класс для анимирования элементов на данной странице
 */

class Animate {
  /**
   * Конструктор класса Animate
   * @param {HTMLElement} element Элемент для анимирования
   * @param {String} className Название класса анимации
   */
  constructor(element, activeClass) {
    this.element = element;
    this.activeClass = activeClass;
    this.observer = this.observer.bind(this);
    this.observer();
  }
  observer() {
    const element = this.element;
    const activeClass = this.activeClass;
    const observer = new IntersectionObserver(event => {
      event.forEach(entry => {
        if (entry.isIntersecting) {
          entry.target.classList.add(activeClass);
          observer.unobserve(entry.target);
        }
      });
    });
    observer.observe(element);
  }
}
const element = document.querySelector(".inputs");
const activeClass = "inputs--active";
const fadeRightInputs = new Animate(element, activeClass);

/***/ }),

/***/ "./src/js/modules/burger.js":
/*!**********************************!*\
  !*** ./src/js/modules/burger.js ***!
  \**********************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/**
 * Класс для инициализации меню бургер
 */
class Burger {
  /**
   * @typedef {Object} BurgerOptions
   * @property {HTMLElement} burger - Элемент кнопки-бургера
   * @property {HTMLElement} menu - Элемент меню
   * @property {string} menuActive - Класс для активного состояния меню (без точки)
   */

  /**
   * Конструктор класса Burger
   * @param {BurgerOptions} options Объект с опциями для инициализации
   * @param {boolean} test Флаг для отладки
   */
  constructor(options, test) {
    this.options = options;
    this.burger = document.querySelector(options.burger); // @@@
    this.menu = document.querySelector(options.menu);
    this.menuActive = options.menuActive;
    this.test = test;
    this.init();
  }
  init = () => {
    if (this.test) {
      console.log(this.burger);
      console.log(this);
    }
    const burger = this.burger;
    burger.addEventListener("click", this.toggleMenu);
    document.addEventListener("click", this.closeMenu);
  };
  toggleMenu = () => {
    this.menu.classList.toggle(this.menuActive);
  };
  closeMenu = event => {
    const target = event.target;
    if (!target.closest(this.options.burger) && !target.closest(this.options.menu)) {
      this.menu.classList.remove(this.menuActive);
    }
  };
}
const burger = new Burger({
  burger: ".burger",
  menu: ".nav",
  menuActive: "nav--active"
});

/***/ }),

/***/ "./src/js/modules/modal.js":
/*!*********************************!*\
  !*** ./src/js/modules/modal.js ***!
  \*********************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/**
 * Класс для создания модальных окон
 */
class Modal {
  /**
   * Конструктор класса Modal
   * @param {NodeListOf<HTMLElement>} buttons Коллекция кнопок триггеров модального окна
   * @param {HTMLElement} modal Контейнер модального окна
   * @param {string} modalBody Класс тела модального окна
   * @param {string} modalActive Класс активного модального окна
   */
  constructor(buttons, modal, modalBody, modalActive) {
    this.buttons = buttons;
    this.modal = modal;
    this.modalBody = modalBody;
    this.modalActive = modalActive;
    this.init();
  }
  init = () => {
    const buttons = this.buttons;
    const modal = this.modal;
    const modalBody = this.modalBody;
    buttons.forEach(element => {
      element.addEventListener("click", this.toggleModal);
    });
    modal.addEventListener("click", e => {
      if (!e.target.closest(modalBody)) {
        this.toggleModal();
      }
    });
  };
  toggleModal = () => {
    const modal = this.modal;
    const modalActive = this.modalActive;
    modal.classList.toggle(modalActive);
    document.querySelector('body').classList.toggle("body--modal");
  };
}
const modal = new Modal(document.querySelectorAll(".button"), document.querySelector(".modal"), ".modal__phone", "modal--active");

/***/ }),

/***/ "./src/js/modules/validate.js":
/*!************************************!*\
  !*** ./src/js/modules/validate.js ***!
  \************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/**
 * Класс формы
 */
class Form {
  /**
   * Конструктор класса Form
   * @param {HTMLElement} form Элемент формы
   * @param {string} server URL сервера для запроса
   * @param {Function} afterSend Функция вызываемая после отправки формы
   * @param {boolean} test true/false Лог ответа сервера
   */
  constructor(form, server, afterSend, test) {
    this.form = form;
    this.server = server;
    this.test = test;
    this.afterSend = afterSend;
    this.init();
  }
  init = () => {
    const form = this.form;
    form.addEventListener("submit", e => {
      e.preventDefault();
      const formData = new FormData(form);
      const data = [...formData];
      const results = [];
      data.forEach(field => {
        if (field[0] === "name") {
          results.push(this.validateName(field[1]));
        }
        if (field[0] === "phone") {
          results.push(this.validatePhone(field[1]));
        }
      });
      const validateResult = results.every(i => i === true);
      if (validateResult) {
        this.fetchForm(formData);
      }
    });
  };
  validateName = value => {
    const regex = /[А-ЯЁA-Z][а-яёa-z]+/;
    if (regex.test(value)) {
      this.form.querySelector("input[name=name]").style.boxShadow = "0px 0px 15px green";
      return true;
    } else {
      this.form.querySelector("input[name=name]").style.boxShadow = "0px 0px 15px red";
      return false;
    }
  };
  validatePhone = value => {
    const regex = /\+{0,1}\d+/;
    if (regex.test(value)) {
      this.form.querySelector("input[name=phone]").style.boxShadow = "0px 0px 15px green";
      return true;
    } else {
      this.form.querySelector("input[name=phone]").style.boxShadow = "0px 0px 15px red";
      return false;
    }
  };
  fetchForm = async data => {
    const server = this.server;
    const request = await fetch(server, {
      method: "POST",
      body: data
    });
    const response = await request.json();
    if (this.test === true) {
      console.log(response);
    }
    this.afterSend();
  };
}
const form = document.querySelector(".inputs");
const validator = new Form(form, "http://test-server/", () => {
  console.log("Form sended");
}, true);

/***/ }),

/***/ "./src/js/tools/test-webp.js":
/*!***********************************!*\
  !*** ./src/js/tools/test-webp.js ***!
  \***********************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
document.addEventListener("DOMContentLoaded", () => {
  isWebP();
});
function isWebP() {
  function testWebP(callback) {
    const webP = new Image();
    webP.onload = webP.onerror = function () {
      callback(webP.height == 2);
    };
    webP.src = "data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA";
  }
  testWebP(function (support) {
    if (support == true) {
      document.querySelector('body').classList.add('webp');
    } else {
      document.querySelector('body').classList.add('no-webp');
    }
  });
}
;

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
var __webpack_exports__ = {};
// This entry need to be wrapped in an IIFE because it need to be isolated against other modules in the chunk.
(() => {
/*!***********************!*\
  !*** ./src/js/app.js ***!
  \***********************/
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _tools_test_webp_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./tools/test-webp.js */ "./src/js/tools/test-webp.js");
/* harmony import */ var _modules_animate_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./modules/animate.js */ "./src/js/modules/animate.js");
/* harmony import */ var _modules_burger_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./modules/burger.js */ "./src/js/modules/burger.js");
/* harmony import */ var _modules_modal_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./modules/modal.js */ "./src/js/modules/modal.js");
/* harmony import */ var _modules_validate_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./modules/validate.js */ "./src/js/modules/validate.js");


// Modules




})();

/******/ })()
;
//# sourceMappingURL=app.min.js.map